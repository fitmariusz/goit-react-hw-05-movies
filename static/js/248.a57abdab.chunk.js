"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[248],{2248:function(n,e,r){r.r(e),r.d(e,{default:function(){return x}});var t=r(9439),o=r(2791),i=r(1087),c=r(1933),a=r(5861),u=r(4687),s=r.n(u),f=function(n){return(0,a.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"064bc5fa04e70ee06b5bfcffdd0028ff",r="https://api.themoviedb.org/3/search/movie?query=".concat(n,"&api_key=").concat("064bc5fa04e70ee06b5bfcffdd0028ff"),e.next=4,fetch(r);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok");case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})))},l=r(7689),d=r(7060),h=r(184),p=function(){var n=(0,l.TH)(),e=(0,i.lr)(),r=(0,t.Z)(e,1)[0].get("query"),o=(0,c.useQuery)({queryKey:["getSearch"],queryFn:f(r)}),a=o.data,u=o.isLoading,s=o.error;return console.log(a),(0,h.jsxs)(h.Fragment,{children:[s&&(0,h.jsxs)("p",{children:["Something went wrong: ",s.message]}),u&&(0,h.jsx)("p",{children:"Loading..."}),!u&&!s&&a.results.map((function(e){var r=e.id,t=e.title;return(0,h.jsx)(d.Li,{children:(0,h.jsx)(i.rU,{to:"/Movies/".concat(r),state:{from:n},children:t})},r)}))]})},v=!1,x=function(){var n=(0,i.lr)("query"),e=(0,t.Z)(n,2),r=e[0],c=e[1],a=(0,o.useState)(""),u=(0,t.Z)(a,2),s=u[0],f=u[1];(0,o.useEffect)((function(){var n=r.get("query");f(n||"")}),[r]);return(0,h.jsxs)("main",{children:[(0,h.jsxs)("form",{children:[(0,h.jsx)("input",{name:"searchMoviews",placeholder:"Serch moviews",onChange:function(n){f(n.target.value),v=!1}}),(0,h.jsx)("button",{name:"Btn",onClick:function(n){v=!0,n.preventDefault(),""===s.trim()?alert("Search is empty... Please enter text."):(v=!0,c({query:s.trim().split(" ").join("+")}),f(""))},children:"Search"})]}),v&&""!==s&&(0,h.jsx)(p,{})]})}},7060:function(n,e,r){r.d(e,{JL:function(){return d},Li:function(){return p},rU:function(){return l},yl:function(){return h}});var t,o,i,c,a,u=r(168),s=r(5867),f=r(1087),l=(s.ZP.div(t||(t=(0,u.Z)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 0 16px;\n"]))),(0,s.ZP)(f.OL)(o||(o=(0,u.Z)(["\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  color: white;\n  font-weight: 500;\n\n  &.active {\n    color: black;\n    background-color: green;\n  }\n"])))),d=s.ZP.div(i||(i=(0,u.Z)(["\ndisplay: flex;\nflex-direction: column;\n"]))),h=s.ZP.div(c||(c=(0,u.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),p=s.ZP.li(a||(a=(0,u.Z)(["\nlist-style: none;\n"])))},5861:function(n,e,r){function t(n,e,r,t,o,i,c){try{var a=n[i](c),u=a.value}catch(s){return void r(s)}a.done?e(u):Promise.resolve(u).then(t,o)}function o(n){return function(){var e=this,r=arguments;return new Promise((function(o,i){var c=n.apply(e,r);function a(n){t(c,o,i,a,u,"next",n)}function u(n){t(c,o,i,a,u,"throw",n)}a(void 0)}))}}r.d(e,{Z:function(){return o}})}}]);
//# sourceMappingURL=248.a57abdab.chunk.js.map