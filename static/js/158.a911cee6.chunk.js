"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[158],{8158:function(e,n,r){r.r(n),r.d(n,{default:function(){return p}});var t=r(9439),o=r(2791),c=r(1087),i=r(1933),a=r(5861),s=r(4687),u=r.n(s),f=function(e){return(0,a.Z)(u().mark((function n(){var r,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"064bc5fa04e70ee06b5bfcffdd0028ff",r="https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=").concat("064bc5fa04e70ee06b5bfcffdd0028ff"),n.next=4,fetch(r);case 4:if((t=n.sent).ok){n.next=7;break}throw new Error("Network response was not ok");case 7:return n.abrupt("return",t.json());case 8:case"end":return n.stop()}}),n)})))},h=r(7689),l=r(184),d=function(){var e=(0,h.TH)(),n=(0,c.lr)(),r=(0,t.Z)(n,1)[0].get("query"),o=(0,i.useQuery)({queryKey:["getSearch"],queryFn:f(r)}),a=o.data,s=o.isLoading,u=o.error;return console.log(a),(0,l.jsxs)(l.Fragment,{children:[u&&(0,l.jsxs)("p",{children:["Something went wrong: ",u.message]}),s&&(0,l.jsx)("p",{children:"Loading..."}),!s&&!u&&a.results.map((function(n){var r=n.id,t=n.title;return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:"/Movies/".concat(r),state:{from:e},children:t})},r)}))]})},v=!1,p=function(){var e=(0,c.lr)("query"),n=(0,t.Z)(e,2),r=n[0],i=n[1],a=(0,o.useState)(""),s=(0,t.Z)(a,2),u=s[0],f=s[1];(0,o.useEffect)((function(){var e=r.get("query");f(e||"")}),[r]);return(0,l.jsxs)("main",{children:[(0,l.jsxs)("form",{children:[(0,l.jsx)("input",{name:"searchMoviews",placeholder:"Serch moviews",onChange:function(e){f(e.target.value),v=!1}}),(0,l.jsx)("button",{name:"Btn",onClick:function(e){v=!0,e.preventDefault(),""===u.trim()?alert("Search is empty... Please enter text."):(v=!0,i({query:u.trim().split(" ").join("+")}),f(""))},children:"Search"})]}),v&&""!==u&&(0,l.jsx)(d,{})]})}},5861:function(e,n,r){function t(e,n,r,t,o,c,i){try{var a=e[c](i),s=a.value}catch(u){return void r(u)}a.done?n(s):Promise.resolve(s).then(t,o)}function o(e){return function(){var n=this,r=arguments;return new Promise((function(o,c){var i=e.apply(n,r);function a(e){t(i,o,c,a,s,"next",e)}function s(e){t(i,o,c,a,s,"throw",e)}a(void 0)}))}}r.d(n,{Z:function(){return o}})}}]);
//# sourceMappingURL=158.a911cee6.chunk.js.map